# ATMController
ATM Controller는 ATM 시뮬레이션 시스템으로서, 사용자 인증, 계좌 선택, 잔액 확인, 입금 및 출금 기능을 제공합니다.

## ✅ test code 실행
- unittest를 이용하여 테스트

```
python -m unittest tests/test_authentication.py
python -m unittest tests/test_atm.py
```

## 🗂️ 프로젝트 폴더 구조
```
ATMController/
│── main.py             # 메인 실행 파일 - Controller (ATM 흐름 관리)
├── src/                    # 핵심 코드
│   ├── authentication.py   # 사용자 인증 (카드 삽입 및 PIN 입력)
│   ├── atm.py              # 계좌 선택, 서비스 선택
│   ├── transaction.py      # 입금, 출금, 잔액 확인 기능
│   ├── utils.py            # JSON 데이터 관리
│
├── tests/                  # 테스트 코드 
│   ├── test_authentication.py  # 인증 기능 테스트
│   ├── test_atm.py             # 계좌 선택, 서비스 선택 기능 테스트
│   ├── test_transaction.py     # 잔액 확인 테스트
│
├── data/                   # JSON 형식의 사용자 데이터
│   ├── card_pin.json       # 가상의 사용자 데이터 (카드번호, PIN, 계좌 정보)
├── README.md               
```

## 모듈 별 역할
- ```authentication.py```: 사용자 카드 인증 및 PIN 검증
- ```atm.py```: 사용자 계좌 선택 및 서비스 선택 기능
- ```transaction.py```: 잔액 확인, 입금, 출금 기능
- ```utils.py```: JSON 데이터를 관리하는 기능
- ```tests/```: 기능 검증하는 테스트 코드

## 기능 설명 
1. 사용자 카드 인증 (```authentication.py```)
    - 카드를 삽입하고(카드번호를 입력하고) PIN 번호 입력 후 인증
    - 3회 연속 실패 시 ATM 사용 제한 (JSON 데이터베이스로 관리)
2. 계좌 선택 (```atm.py``` )
    - 사용자가 본인의 계좌 목록에서 하나를 선택 가능
    - 잘못된 입력 시 다시 시도
3. 서비스 선택 (```atm.py``` )
    - 사용자가 원하는 서비스 (잔액 확인, 입금, 출금) 선택
    - "종료" 선택 시 ATM 거래 종료
4. 잔액 확인 (```transaction.py```)
    - 사용자가 선택한 계좌의 현재 잔액을 출력
5. 입금 (```transaction.py```)
    - 사용자가 원하는 금액을 계좌에 추가
    - 0 이하의 금액은 입금 불가
    - 입금 후 잔액 확인
6. 출금 (```transaction.py```)
    - 사용자가 원하는 금액을 계좌에서 출금
    - 잔액보다 많은 금액 출금 시 실패
    - 출금 후 잔액 확인

## 실행 방법
#### 프로젝트 실행
```
python main.py
```
#### Flow
``` python
지원 ATM입니다. 어서오세요.
카드를 삽입하세요.
# 1. 사용자 카드 인증
카드번호 입력: 1234-5678-0000-0001
PIN 입력: 0001
안녕하세요, Jiwon Ryu님.
# 2. 계좌 선택 
Jiwon Ryu님이 보유한 계좌 목록입니다.
===============================================
1) 계좌: 1001001
2) 계좌: 1001002
선택을 원하는 계좌가 몇 번째인지 입력해주세요.: 2
2번째 계좌인 1001002를 선택하셨습니다.
# 3. 서비스 선택 
원하시는 서비스를 선택하세요.
1) 잔액 확인
2) 입금
3) 출금
4) 종료
이용하고 싶은 서비스의 번호를 입력해주세요.: 1
# 4. 잔액 확인
본 계좌의 잔액은 25000달러입니다.
===============================================
원하시는 서비스를 선택하세요.
1) 잔액 확인
2) 입금
3) 출금
4) 종료
이용하고 싶은 서비스의 번호를 입력해주세요.: 2
# 5. 입금
입금하고 싶은 금액을 숫자로 입력해주세요.: 40000
40000 달러를 입금하는 게 맞다면 1을, 아니면 0을 입력해주세요: 1
입금 후 잔액은 65000달러입니다.
===============================================
원하시는 서비스를 선택하세요.
1) 잔액 확인
2) 입금
3) 출금
4) 종료
이용하고 싶은 서비스의 번호를 입력해주세요.: 3
# 6. 출금
인출하고 싶은 금액을 숫자로 입력해주세요.: 500000
500000 달러를 인출하는 게 맞다면 1을, 아니면 0을 입력해주세요: 1
잔액이 부족합니다. 다시 시도하세요.
인출하고 싶은 금액을 숫자로 입력해주세요.: 1000
1000 달러를 인출하는 게 맞다면 1을, 아니면 0을 입력해주세요: 1
인출 후 잔액은 64000달러입니다.
===============================================
원하시는 서비스를 선택하세요.
1) 잔액 확인
2) 입금
3) 출금
4) 종료
이용하고 싶은 서비스의 번호를 입력해주세요.: 4
# 종료
거래를 종료합니다.
===============================================
```